"use strict";

const test = require('ava');

const {
  decode
} = require('ini');

const {
  getFileFromContainer
} = require('./util');

const getFactomdConf = async config => decode((await getFileFromContainer('factomd.conf', {
  network: 'main',
  ...config
})));

const optionNameTest = (yamlName, optionName, config, valueOverride) => test(`${yamlName} -> ${optionName}`, async t => {
  const factomdConf = await getFactomdConf(config);
  t.is(valueOverride || config[yamlName], factomdConf.app[optionName]);
});

optionNameTest('apiPassword', 'factomdRpcPass', {
  apiPassword: 'password',
  apiUser: 'username'
});
optionNameTest('apiPort', 'PortNumber', {
  apiPort: 1234
}, '1234');
optionNameTest('apiUser', 'FactomdRpcUser', {
  apiPassword: 'password',
  apiUser: 'username'
});
//# sourceMappingURL=/Users/jay/code/factomd-docker/node_modules/.cache/ava/d1f4d4bb98d42789c1373368a6e329a4.js.map