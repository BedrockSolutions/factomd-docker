"use strict";

const test = require('ava');

const {
  decode
} = require('ini');

const {
  getFileFromContainer
} = require('./util');

const DEFAULT_CONFIG = {
  network: 'main'
};

const getOptions = async config => decode((await getFileFromContainer('factomd.conf', { ...DEFAULT_CONFIG,
  ...config
}))).app;

const getArgs = async config => {};

const optionNameTest = (yamlName, optionName, config, valueOverride) => test(`${yamlName} -> ${optionName}`, async t => {
  const options = await getOptions(config);
  t.is(valueOverride || config[yamlName], options[optionName]);
});

optionNameTest('apiPassword', 'FactomdRpcPass', {
  apiPassword: 'password',
  apiUser: 'username'
});
optionNameTest('apiPort', 'PortNumber', {
  apiPort: 1234
}, '1234');
optionNameTest('apiUser', 'FactomdRpcUser', {
  apiPassword: 'password',
  apiUser: 'username'
});
//# sourceMappingURL=/Users/jay/code/factomd-docker/node_modules/.cache/ava/9365a9ba3c5fbdc0593a78bd8c171e87.js.map