{"version":3,"sources":["test/configTests.js"],"names":["test","require","decode","getFileFromContainer","DEFAULT_CONFIG","network","getOptions","config","app","getArgs","optionNameTest","yamlName","optionName","valueOverride","t","options","is","apiPassword","apiUser","apiPort"],"mappings":";;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,KAAD,CAApB;;AACA,MAAM;AAACC,EAAAA;AAAD,IAAWD,OAAO,CAAC,KAAD,CAAxB;;AAEA,MAAM;AAACE,EAAAA;AAAD,IAAyBF,OAAO,CAAC,QAAD,CAAtC;;AAEA,MAAMG,cAAc,GAAG;AACrBC,EAAAA,OAAO,EAAE;AADY,CAAvB;;AAIA,MAAMC,UAAU,GAAG,MAAMC,MAAN,IAAgBL,MAAM,EAAC,MAAMC,oBAAoB,CAAC,cAAD,EAAiB,EACnF,GAAGC,cADgF;AAEnF,KAAGG;AAFgF,CAAjB,CAA3B,EAAN,CAG/BC,GAHJ;;AAKA,MAAMC,OAAO,GAAG,MAAMF,MAAN,IAAgB,CAE/B,CAFD;;AAIA,MAAMG,cAAc,GAAG,CAACC,QAAD,EAAWC,UAAX,EAAuBL,MAAvB,EAA+BM,aAA/B,KAAiDb,IAAI,CAAE,GAAEW,QAAS,OAAMC,UAAW,EAA9B,EAAiC,MAAME,CAAN,IAAW;AACtH,QAAMC,OAAO,GAAG,MAAMT,UAAU,CAACC,MAAD,CAAhC;AACAO,EAAAA,CAAC,CAACE,EAAF,CAAKH,aAAa,IAAIN,MAAM,CAACI,QAAD,CAA5B,EAAwCI,OAAO,CAACH,UAAD,CAA/C;AACD,CAH2E,CAA5E;;AAKAF,cAAc,CAAC,aAAD,EAAgB,gBAAhB,EAAkC;AAACO,EAAAA,WAAW,EAAE,UAAd;AAA0BC,EAAAA,OAAO,EAAE;AAAnC,CAAlC,CAAd;AACAR,cAAc,CAAC,SAAD,EAAY,YAAZ,EAA0B;AAACS,EAAAA,OAAO,EAAE;AAAV,CAA1B,EAA2C,MAA3C,CAAd;AACAT,cAAc,CAAC,SAAD,EAAY,gBAAZ,EAA8B;AAACO,EAAAA,WAAW,EAAE,UAAd;AAA0BC,EAAAA,OAAO,EAAE;AAAnC,CAA9B,CAAd","sourceRoot":"/Users/jay/code/factomd-docker","sourcesContent":["const test = require('ava')\nconst {decode} = require('ini')\n\nconst {getFileFromContainer} = require('./util')\n\nconst DEFAULT_CONFIG = {\n  network: 'main',\n}\n\nconst getOptions = async config => decode(await getFileFromContainer('factomd.conf', {\n  ...DEFAULT_CONFIG,\n  ...config\n})).app\n\nconst getArgs = async config => {\n\n}\n\nconst optionNameTest = (yamlName, optionName, config, valueOverride) => test(`${yamlName} -> ${optionName}`, async t => {\n  const options = await getOptions(config)\n  t.is(valueOverride || config[yamlName], options[optionName])\n})\n\noptionNameTest('apiPassword', 'FactomdRpcPass', {apiPassword: 'password', apiUser: 'username'})\noptionNameTest('apiPort', 'PortNumber', {apiPort: 1234}, '1234')\noptionNameTest('apiUser', 'FactomdRpcUser', {apiPassword: 'password', apiUser: 'username'})\n"]}